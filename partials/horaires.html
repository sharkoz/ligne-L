<div class="card" ng-repeat="trajet in param.trajet | orderBy:'dist'" ng-controller="TrajetCtrl">

<h1>{{gare[trajet.depart]}} à <strong ng-show"localise">{{$parent.calculateDistance(GareLoc[trajet.depart],$parent.pos)}}</strong>m</h1> <div class="corner_config" ng-click="options = ! options">i</div>
<h2>Vers {{gare[trajet.arrivee]}}<br/>URL : {{$parent.apiUrl+trajet.path+'/'+trajet.depart}}</h2>

  <div class="animate-switch-container" ng-show="options">
        Paramétrer la carte :
        <br>Depart :
  <SELECT name="nom" ng-model="trajet.depart" size="1" ng-change="jsoncall()" style="width:100%;max-width:50%;">
    <OPTION ng-repeat="index in ListeGares | orderBy:'value'" value="{{index.key}}" ng-selected="index.key==trajet.depart">{{index.value}} (m)</OPTION>
  </SELECT>
  <br>Arrivée :
  <SELECT name="nom" ng-model="trajet.arrivee" size="1" ng-change="jsoncall()" style="width:100%;max-width:50%;">
    <OPTION value="0">Toutes directions</OPTION>
	<OPTION ng-repeat="index in ListeGares | orderBy:'value'" value="{{index.key}}" ng-selected="index.key==trajet.arrivee">{{index.value}} {{$scope.calculateDistance($scope.GareLoc[index.key],$scope.pos)}}(m)</OPTION>
  </SELECT>
     <!-- <br>Path :
  <SELECT name="nom" ng-model="trajet.path" size="1" ng-change="jsoncall()" style="width:100%;max-width:50%;">
    <OPTION>mobil</OPTION>
    <OPTION>test</OPTION>
    <OPTION>previ</OPTION>
  </SELECT>-->
        <input name="submit" type="submit" value="Sauvegarder" ng-click="jsonsave(); options=!options"/>
        <br>
        <input name="submit" type="submit" value="Supprimer trajet" ng-click="$parent.param.trajet.splice($index,1); options=!options"/>
		
	<input list="depart" type="text" id="choix_bieres" ng-model="autoDepart" ng-change="getLocation()">
<datalist id="depart">
  <select ng-model="autoDepart">
  <option ng-repeat="index in DepartList" value="{{index.name}}" ng-selected="index.key==trajet.arrivee">{{index.codeTR3A}}</OPTION>
	</select>
  </datalist>
		
  </div>


  <table class="horaires">
   <tbody>
    <!--<tr ng-repeat="train in dataSet.train |limitTo:$parent.$storage.max">
     <td>{{train.date.mode}}</td>
     <td>{{train.date.val | limitTo:-5}}</td>
     <td>{{gare[train.term]}}</td> 
     <td>{{train.miss}}</td>
	 <td>{{train.num}}</td>
    </tr>-->
	<tr><td></td><td>Heure</td><td>Direction</td><td>Mission</td><td>Voie</td></tr>
    <tr ng-repeat="train in trajet.display">
     <td>{{train.delta}}</td>
     <td>{{train.date.val | limitTo:-5}}</td>
     <td>{{gare[train.term]}}</td> 
     <td>{{train.miss}}</td>
	 <!--<td>{{train.num}}</td>-->
	 <td>{{train.voie}}</td>
    </tr>
   </tbody>
  </table>
  </div>
</div>


<div class="menu">
  <table>
    <td ng-click="$parent.local()">Localiser</td>
    <td ng-click="addTrajet()">Ajouter</td>
    <td ng-click="$parent.reloadRoute()">Rafraichir</td>
  </table>

</div>
<div class="footer">  </div>
