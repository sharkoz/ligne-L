<div class="card" ng-repeat="trajet in param.trajet " ng-controller="TrajetCtrl">

<h1>{{gare[trajet.depart]}} à <strong ng-show"localise">{{calculateDistance(GareLoc[trajet.depart],pos)}}m</strong></h1> <div class="corner_config" ng-click="options = ! options">i</div>
<h2>Vers {{gare[trajet.arrivee]}}<br/>URL : {{$parent.apiUrl+trajet.path+'/'+trajet.depart}}</h2>

  <div class="animate-switch-container" ng-show="options">
        Paramétrer la carte :
        <br>Depart :
  <SELECT name="nom" ng-model="trajet.depart" size="1" ng-change="jsoncall()" style="width:100%;max-width:50%;">
    <OPTION ng-repeat="index in ListeGares | orderBy:'value'" value="{{index.key}}" ng-selected="index.key==trajet.depart">{{index.value}} ({{calculateDistance(GareLoc[index.key],pos)}}m)</OPTION>
  </SELECT>
      <br>Path :
  <SELECT name="nom" ng-model="trajet.path" size="1" ng-change="jsoncall()" style="width:100%;max-width:50%;">
    <OPTION>live</OPTION>
    <OPTION>test</OPTION>
    <OPTION>previ</OPTION>
  </SELECT>
        <input name="submit" type="submit" value="Sauvegarder" ng-click="jsoncall(); options=!options"/>
        <br>
        <input name="submit" type="submit" value="Supprimer trajet" ng-click="$parent.param.trajet.splice($index,1); options=!options"/>
  </div>


  <table class="horaires">
   <tbody>
    <tr ng-repeat="train in dataSet.train |limitTo:5">
     <td>{{train.date.$mode}}</td>
     <td>{{train.date.$ | limitTo:-5}}</td>
     <td>{{gare[train.term]}}</td> 
     <td>{{train.miss}}</td>
    </tr>
   </tbody>
  </table>

</div>

<div class="card" ng-click="param.trajet.push({'depart' : '87382440' , 'arrivee' : '87384008', 'path' : 'previ'})"><br><i text-align="center">Ajouter un trajet</i><br></div>
